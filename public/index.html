<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bark api</title>
</head>
<body>
    <div>
        <h1>Bark api</h1>
    </div>
    <div>
        <p>All routes /api/* are protected with Basic HTTP Authentification. You can use username:
            admin and password: admin because they are in init database. If you are not logged
        with proper credentials you will get error code 401</p>
    </div>
    <div>
        <h2>/api/users</h2>
        <h3>GET</h3>
        <p>Query params are limit and offset with default values 10 for limit and 0 for offset.</p>
        <dl>
            <dt>200</dt>
            <dd>It returns object with users attribute which contains list of user objects
                and _pagination attribute which contains links for pagination
            </dd>
            <dt>400</dt>
            <dd>You sent a bad request</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
        <h3>POST</h3>
        <p>Body need to contain object with name, surname and password</p>
        <dl>
            <dt>201</dt>
            <dd>It creates new user in database with provided data. In location header you can find
                link to new user. Username is generated by server
            </dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
    </div>
    <div>
        <h2>/api/users/:username</h2>
        <h3>GET</h3>
        <p></p>
        <dl>
            <dt>200</dt>
            <dd>It returns User object</dd>
            <dt>404</dt>
            <dd>User with username provided in uri doesnt exists</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
        <h3>POST</h3>
        <p>Body need to contain object with text</p>
        <dl>
            <dt>201</dt>
            <dd>It creates new bark whose recipient is user with :username provided in uri. In location header you can find
                link to new bark. BarkId is generated by server
            </dd>
            <dt>
                400
            </dt>
            <dd>
                You sent a bad request. Probably recipient doesnt exists.
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
        <h3>PUT</h3>
        <p>Body need to contain object with name, surname and password</p>
        <dl>
            <dt>200</dt>
            <dd>If user with :username does exists and you are logged with this username then user is updated
            with provided data</dd>
            <dt>201</dt>
            <dd>If user with :username does not exists then new user is created with provided data.
                In location header you can find link to new user. Username is given in uri.
            </dd>
            <dt>403</dt>
            <dd>User with this username does exists but you need to be logged with their credentials.</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
        <h3>DELETE</h3>
        <p></p>
        <dl>
            <dt>200</dt>
            <dd>If user with :username does exists and you are logged with this username then user is deleted</dd>
            <dt>403</dt>
            <dd>User with this username does exists but you need to be logged with their credentials to delete it.</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
    </div>
    <div>
        <h2>/api/barks</h2>
        <h3>GET</h3>
        <p>Query params are limit and offset with default values 10 for limit and 0 for offset.</p>
        <dl>
            <dt>200</dt>
            <dd>It returns object with barks attribute which contains list of bark objects
                and _pagination attribute which contains links for pagination
            </dd>
            <dt>400</dt>
            <dd>You sent a bad request</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
        <h3>POST</h3>
        <p>Body need to contain object with text and recipient attributes</p>
        <dl>
            <dt>201</dt>
            <dd>It creates new bark in database with provided data. In location header you can find
                link to new bark. BarkId is generated by server
            </dd>
            <dt>400</dt>
            <dd>You sent bad request. Probably recipient doesnt exists</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
    </div>
    <div>
        <h2>/api/barks/:bid</h2>
        <h3>GET</h3>
        <p></p>
        <dl>
            <dt>200</dt>
            <dd>It returns object with text and BarkId of bark and links to author and recipient</dd>
            <dt>404</dt>
            <dd>Bar with BarkId provided in uri doesnt exists</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
        <h3>PUT</h3>
        <p>Body need to contain object with text and recipient</p>
        <dl>
            <dt>200</dt>
            <dd>If bark with :bid does exists and you are logged with this username which is author then
                bark is updated with provided data with provided data</dd>
            <dt>400</dt>
            <dd>You have sent bad request</dd>
            <dt>403</dt>
            <dd>User with this username does exists but you need to be logged with their credentials.</dd>
            <dt>404</dt>
            <dd>Bar with :bid provided in uri doesnt exists</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
        <h3>DELETE</h3>
        <p></p>
        <dl>
            <dt>200</dt>
            <dd>If bark with :bid does exists and you are logged with this username which is author then
                bark is deleted</dd>
            <dt>403</dt>
            <dd>Bark with this :bid exists but you need to be logged in with owners
            credentials to delete it.</dd>
            <dt>404</dt>
            <dd>Bar with :bid provided in uri doesnt exists</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>

    </div>
    <div>
        <h2>/users/:username/barks</h2>
        <h3>GET</h3>
        <p>Query params are limit and offset with default values 10 for limit and 0 for offset.</p>
        <dl>
            <dt>200</dt>
            <dd>It returns object with barks attribute which contains list of bark objects
                and _pagination attribute which contains links for pagination.
                It returns only barks whose recipient is user with :username provided in uri.
            </dd>
            <dt>400</dt>
            <dd>You sent a bad request</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
        <h3>POST</h3>
        <p>Body need to contain object with text attribute</p>
        <dl>
            <dt>201</dt>
            <dd>It creates new bark in database with text provided in body and
                recipient is set to user whose :username is provided in uri
                . In location header you can find
                link to new bark. BarkId is generated by server
            </dd>
            <dt>400</dt>
            <dd>You sent bad request. Probably recipient doesnt exists</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
    </div>
    <div>
        <h2>/api/users/:username/barks/:bid</h2>
        <h3>GET</h3>
        <p></p>
        <dl>
            <dt>200</dt>
            <dd>
                It returns bark whose recipient is :username provided in uri and
                whose BarkId is :bid provided in uri.
                It returns object with text and BarkId of bark and links to author and recipient.
            </dd>
            <dt>404</dt>
            <dd>Bar with BarkId provided in uri doesnt exists</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
        <h3>PUT</h3>
        <p>Body need to contain object with text. Recipient is set to :username provided in uri</p>
        <dl>
            <dt>200</dt>
            <dd>If bark with :bid does exists and you are logged with this username which is author then
                bark is updated with provided data with provided data</dd>
            <dt>400</dt>
            <dd>You have sent bad request</dd>
            <dt>403</dt>
            <dd>Bark with this username and this recipient does exists but you need to be logged with their credentials.</dd>
            <dt>404</dt>
            <dd>Bark with :bid provided whose recipient is :username in uri doesnt exists</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
        <h3>DELETE</h3>
        <p></p>
        <dl>
            <dt>200</dt>
            <dd>If bark with :bid whose recipient is :username does exists and if you are logged with this username which is author then
                bark is deleted</dd>
            <dt>403</dt>
            <dd>Bark with this :bid whose recipient is :username
                does exists but you need to be logged in with owners
                credentials to delete it.</dd>
            <dt>404</dt>
            <dd>Bar with :bid whose recipient is :username provided in uri doesnt exists</dd>
            <dt>500</dt>
            <dd>Internal server error</dd>
        </dl>
    </div>
</body>
</html>